generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

enum SeriesStatus {
  Watching
  Completed
  OnHold
  Dropped
  PlanToWatch
}

enum EpisodeStatus {
  Watched
  NotWatched
  Skipped
}

model UserSeries {
  apiId         String       @id //databasede int
  userId     String
  createdAt  DateTime     @default(now())
  updatedAt  DateTime     @updatedAt
  episodes   Episode[]
  status     SeriesStatus @default(PlanToWatch)
  is_favorite Boolean      @default(false)
}

model Episode {
  id       String        @id @default(uuid())
  status   EpisodeStatus @default(NotWatched)
  seriesId String
  series   UserSeries    @relation(fields: [seriesId], references: [apiId])

  @@index([seriesId])
}
